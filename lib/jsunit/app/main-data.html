<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
            "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- JsUnit -->
<!-- ***** BEGIN LICENSE BLOCK *****
   - Version: MPL 1.1/GPL 2.0/LGPL 2.1
   -
   - The contents of this file are subject to the Mozilla Public License Version
   - 1.1 (the "License"); you may not use this file except in compliance with
   - the License. You may obtain a copy of the License at
   - http://www.mozilla.org/MPL/
   -
   - Software distributed under the License is distributed on an "AS IS" basis,
   - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
   - for the specific language governing rights and limitations under the
   - License.
   -
   - The Original Code is Edward Hieatt code.
   -
   - The Initial Developer of the Original Code is
   - Edward Hieatt, edward@jsunit.net.
   - Portions created by the Initial Developer are Copyright (C) 2001
   - the Initial Developer. All Rights Reserved.
   -
   - Contributor(s):
   - Edward Hieatt, edward@jsunit.net (original author)
   - Bob Clary, bc@bclary.com
   -
   - Alternatively, the contents of this file may be used under the terms of
   - either the GNU General Public License Version 2 or later (the "GPL"), or
   - the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
   - in which case the provisions of the GPL or the LGPL are applicable instead
   - of those above. If you wish to allow use of your version of this file only
   - under the terms of either the GPL or the LGPL, and not to allow others to
   - use your version of this file under the terms of the MPL, indicate your
   - decision by deleting the provisions above and replace them with the notice
   - and other provisions required by the LGPL or the GPL. If you do not delete
   - the provisions above, a recipient may use your version of this file under
   - the terms of any one of the MPL, the GPL or the LGPL.
   -
   - ***** END LICENSE BLOCK ***** -->

  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">  
    <title>JsUnit main-data.html</title>
    <link rel="stylesheet" type="text/css" href="../css/jsUnitStyle.css">
    <script language="JavaScript" type="text/javascript" src="jsUnitCore.js"></script>
    <script language="JavaScript" type="text/javascript">

function  kickOffTests() {
  //
  //    Check if Init was called by onload handler
  //      
  if (typeof(top.testManager) == 'undefined') {
     top.init();
  }  


  if (isBlank(top.testManager.getTestFileName())) {
    alert('Please enter a file name.');
    return;
  }

  top.testManager.setup();

  top.testManager._currentSuite().addTestPage(top.testManager.resolveUserEnteredTestFileName());
  top.tracer.initialize();

  var traceLevel = document.forms.testRunnerForm.traceLevel;
  if (traceLevel.value != '0')
  {
    var traceWindow = top.tracer._getTraceWindow();
    if (traceWindow) {
      traceWindow.focus();
    }
    else {
      alert('Tracing requires popup windows which are blocked in your browser.\n\nPlease enable popups if you wish to use tracing.');
    }
  }

  top.testManager.start();
}
    </script>
  </head>

  <body onload="document.testRunnerForm.testFileName.focus()">
    <form name="testRunnerForm" action="">
      <table width="100%" cellpadding="0" cellspacing="0" border="0" summary="jsUnit Information" bgcolor="#DDDDDD">
        <tr>
	  <td align="left" valign="top"><img src="../images/logo_jsunit.gif" alt="JSUnit Logo"></td>
          <th nowrap align="left" valign="middle">
          	JsUnit 2.0 TestRunner<br>
          	<font size="-2"><i>Running on <script language="javascript" type="text/javascript">document.write(navigator.userAgent);</script></i></font>
          </th>

          <td nowrap align="right" valign="middle">
           <a href="http://www.jsunit.net/" target="_blank">JsUnit Home</a><br>
           <a href="mailto:edward@jsunit.net">edward@jsunit.net</a><br>
        </tr>
      </table>

      <p>Enter the filename of the Test Page to be run:</p>

      <table cellpadding="0" cellspacing="0" border="0" summary="Form for entering test case location">
        <tr>
          <td align="center" valign="middle">
            <script language="JavaScript" type="text/javascript">
              document.write(top.getDocumentProtocol());
            </script>
          </td>

          <td nowrap align="center" valign="bottom">
            &nbsp;
            <script language="JavaScript" type="text/javascript">
              if (top.getDocumentProtocol() == 'file:///' && !jsUnitGetParm('testpage'))
              {
                document.write('<input type="file" name="testFileName" size="60">');
              }
              else
              {
                var inputStr = '<input type="text" name="testFileName" size="60" ';
                if (jsUnitGetParm('testpage'))
                {
                  inputStr += 'value="';
                  if (
                  	(top.getDocumentProtocol() == 'http://' || top.getDocumentProtocol() == 'https://') && 
                  	jsUnitGetParm('testpage').indexOf('/') == 0)
                  {
                    inputStr += top.location.host;
                  }
                  inputStr += jsUnitGetParm('testpage');
                  var testParms = top.jsUnitConstructTestParms();
                  if (testParms!='') {
                  	inputStr += '?';
                  	inputStr += testParms;
                  }
                  inputStr += '"';
                }
                inputStr += '>';
                document.write(inputStr);
              }

            </script>
            <input type="button" name="runButton" value="Run" onclick="kickOffTests()">
          </td>
        </tr>
      </table>
      <hr>

      <table cellpadding="0" cellspacing="0" border="0" summary="Choose Trace Level">
        <tr>
          <td nowrap>Trace level:</td>

          <td><select name="traceLevel">
            <option value="0" selected>
              no tracing
            </option>

            <option value="1">
              warning (lowest)
            </option>

            <option value="2">
              info
            </option>

            <option value="3">
              debug (highest)
            </option>
          </select> </td>

          <td>&nbsp;&nbsp;&nbsp;</td>

          <td><input type="checkbox" name="closeTraceWindowOnNewRun" checked></td>
          <td nowrap>Close old trace window on new run</td>

          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>

          <td nowrap>Page load timeout:</td>
          <td>&nbsp;
            <script language="javascript" type="text/javascript">
            document.write('<input type="text" size="2" name="timeout" value="'+top.jsUnitTestManager.TESTPAGE_WAIT_SEC+'">');
            </script>
          </td>

          <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>

          <td nowrap>Setup page timeout:</td>
          <td>&nbsp;
            <script language="javascript" type="text/javascript">
            document.write('<input type="text" size="2" name="setUpPageTimeout" value="'+top.jsUnitTestManager.SETUPPAGE_TIMEOUT+'">');
            </script>
          </td>
        </tr>
      </table>
      <hr>
    </form>
  </body>
</html>
